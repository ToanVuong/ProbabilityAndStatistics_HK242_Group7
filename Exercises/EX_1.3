# Tổng số phần tử trong không gian mẫu
N = 100

# Định nghĩa các sự kiện A1, A2, A3, A4 như các tập hợp
A1 = set(x for x in range(1, N+1) if x % 2 == 0 and x % 4 != 0)  # Chẵn mà ko chia hết cho 4
A2 = set(x for x in range(1, N+1) if x % 4 == 0 and x % 8 != 0)  # Chia hết cho 4 mà ko chia hết cho 8
A3 = set(x for x in range(1, N+1) if x % 8 == 0 and x % 16 != 0) # Chia hết cho 8 mà ko chia hết cho 16
A4 = set(x for x in range(1, N+1) if x % 16 == 0)               # Chia hết cho 16

# In số phần tử từng tập
print(f"Số phần tử A1 (chẵn ko chia hết 4): {len(A1)}")
print(f"Số phần tử A2 (chia hết 4 ko chia hết 8): {len(A2)}")
print(f"Số phần tử A3 (chia hết 8 ko chia hết 16): {len(A3)}")
print(f"Số phần tử A4 (chia hết 16): {len(A4)}")

# Kiểm tra tính xung khắc
print("\nKiểm tra giao nhau giữa các sự kiện:")
for i, Ai in enumerate([A1, A2, A3, A4], 1):
    for j, Aj in enumerate([A1, A2, A3, A4], 1):
        if i < j:
            inter = Ai & Aj
            if inter:
                print(f"A{i} ∩ A{j} ≠ ∅ (giao: {sorted(inter)})")
            else:
                print(f"A{i} ∩ A{j} = ∅")

# Tính xác suất từng sự kiện
P_A1 = len(A1) / N
P_A2 = len(A2) / N
P_A3 = len(A3) / N
P_A4 = len(A4) / N

# Tổng xác suất riêng lẻ
sum_individual = P_A1 + P_A2 + P_A3 + P_A4

# Xác suất hợp các sự kiện
union_all = A1 | A2 | A3 | A4
P_union = len(union_all) / N

# In kết quả
print("\nXác suất từng sự kiện:")
print(f"P(A1) = {P_A1:.3f}")
print(f"P(A2) = {P_A2:.3f}")
print(f"P(A3) = {P_A3:.3f}")
print(f"P(A4) = {P_A4:.3f}")

print(f"\nTổng xác suất các sự kiện riêng lẻ (cộng tính): {sum_individual:.3f}")
print(f"Xác suất hợp A1 ∪ A2 ∪ A3 ∪ A4: {P_union:.3f}")
